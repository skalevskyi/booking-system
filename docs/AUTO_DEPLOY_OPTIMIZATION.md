# üöÄ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é —Ç–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–µ–∫—Ç—É.

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π

### Frontend (GitHub Pages)

‚úÖ **–í–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**
- –ü—Ä–∏ push –¥–æ `main` –≥—ñ–ª–∫–∏ GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
  - –ó–±—É–¥—É—î frontend
  - –°—Ç–≤–æ—Ä–∏—Ç—å SPA fallback (404.html)
  - –ó–∞–¥–µ–ø–ª–æ—ó—Ç—å –Ω–∞ GitHub Pages

**Workflow:** `.github/workflows/deploy-web.yml`

### Backend (Render)

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —á–µ—Ä–µ–∑ `render.yaml`:**

1. **Auto-Deploy:** `autoDeploy: true` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –¥–æ main
2. **Health Check:** `healthCheckPath: /health` - –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å—Ç–∞–Ω—É —Å–µ—Ä–≤—ñ—Å—É
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó:** –í–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Å—Ç–∞—Ä—Ç—ñ —Å–µ—Ä–≤–µ—Ä–∞
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π seed:** –î–∞–Ω—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, —è–∫—â–æ —ó—Ö –Ω–µ–º–∞—î

**–í–∞–∂–ª–∏–≤–æ:** –ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—É —á–µ—Ä–µ–∑ Blueprint, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è –≤ Render Dashboard:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É `booking-system-api`
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Settings**
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
   - ‚úÖ **Auto-Deploy**: `Yes` (–º–∞—î –±—É—Ç–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
   - ‚úÖ **Health Check Path**: `/health` (—è–∫—â–æ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –¥–æ–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É)
   - ‚úÖ **Root Directory**: `apps/api`

**–Ø–∫—â–æ —Å–µ—Ä–≤—ñ—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ –≤—Ä—É—á–Ω—É:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** ‚Üí **Build & Deploy**
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å **Auto-Deploy**: `Yes`
3. –î–æ–¥–∞–π—Ç–µ **Health Check Path**: `/health`

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å–µ—Ä–≤—ñ—Å—É –∞–∫—Ç–∏–≤–Ω–∏–º (Keep-Alive)

### –ü—Ä–æ–±–ª–µ–º–∞: Render Free Tier Spin Down

Render free tier –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ "–∑–∞—Å–∏–Ω–∞—î" —Å–µ—Ä–≤—ñ—Å–∏ –ø—ñ—Å–ª—è 15 —Ö–≤–∏–ª–∏–Ω –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –ø–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç –º–æ–∂–µ –∑–∞–π–º–∞—Ç–∏ 30-60 —Å–µ–∫—É–Ω–¥ (cold start).

### –†—ñ—à–µ–Ω–Ω—è: Keep-Alive Workflow

‚úÖ **–ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**
- GitHub Actions workflow (`.github/workflows/keep-alive.yml`) –ø—ñ–Ω–≥ —Å–µ—Ä–≤—ñ—Å –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω
- –¶–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Å–µ—Ä–≤—ñ—Å –∞–∫—Ç–∏–≤–Ω–∏–º —ñ —É–Ω–∏–∫–Ω—É—Ç–∏ spin down

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
1. Workflow –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω (—á–µ—Ä–µ–∑ cron)
2. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î GET –∑–∞–ø–∏—Ç –Ω–∞ `/health` endpoint
3. Render —Å–µ—Ä–≤—ñ—Å –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω–∏–º

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Actions** ‚Üí **Keep API Alive**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ workflow –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ - –º–∞—î –±—É—Ç–∏ "‚úÖ API is alive and responding"

## –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### Backend –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

1. **Health Check Endpoint:**
   - –®–≤–∏–¥–∫–∏–π –≤—ñ–¥–≥—É–∫ (< 100ms)
   - –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó:**
   - –í–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ (–Ω–µ –±–ª–æ–∫—É—î –∑–∞–ø–∏—Ç–∏)
   - –Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ (–±–µ–∑–ø–µ—á–Ω—ñ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è)

3. **Error Handling:**
   - –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫
   - –ö–æ—Ä–µ–∫—Ç–Ω—ñ HTTP —Å—Ç–∞—Ç—É—Å–∏
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏

### Frontend –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

1. **SPA Fallback:**
   - 404.html –¥–ª—è GitHub Pages
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π base path (`/booking-system/`)

2. **Build –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:**
   - Vite –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ç–∏–º—ñ–∑—É—î bundle
   - Code splitting
   - Tree shaking

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ

### –¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é

1. **Frontend:**
   ```bash
   # –ó—Ä–æ–±—ñ—Ç—å –±—É–¥—å-—è–∫—É –∑–º—ñ–Ω—É –≤ apps/web/
   git add apps/web/src/App.tsx
   git commit -m "Test auto deploy"
   git push
   ```
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ **Actions** ‚Üí –º–∞—î –∑–∞–ø—É—Å—Ç–∏—Ç–∏—Å—è "Deploy Web to GitHub Pages"
   - –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–º—ñ–Ω–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –Ω–∞ —Å–∞–π—Ç—ñ

2. **Backend:**
   ```bash
   # –ó—Ä–æ–±—ñ—Ç—å –±—É–¥—å-—è–∫—É –∑–º—ñ–Ω—É –≤ apps/api/
   git add apps/api/src/index.ts
   git commit -m "Test auto deploy"
   git push
   ```
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Render Dashboard ‚Üí –º–∞—î –∑–∞–ø—É—Å—Ç–∏—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π
   - –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–º—ñ–Ω–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –∞–∫—Ç–∏–≤–Ω–∏–º–∏

### –¢–µ—Å—Ç Keep-Alive

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Actions** ‚Üí **Keep API Alive**
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø—É—Å–∫–∏ - –º–∞—é—Ç—å –±—É—Ç–∏ –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ - –º–∞—î –±—É—Ç–∏ "‚úÖ API is alive and responding"

### –¢–µ—Å—Ç –ø—ñ—Å–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

1. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è 15+ —Ö–≤–∏–ª–∏–Ω –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Å–∞–π—Ç
3. –ü–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç –º–æ–∂–µ –∑–∞–π–º–∞—Ç–∏ 30-60 —Å–µ–∫—É–Ω–¥ (cold start)
4. –ù–∞—Å—Ç—É–ø–Ω—ñ –∑–∞–ø–∏—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏ —à–≤–∏–¥–∫–∏–º–∏ (< 1 —Å–µ–∫—É–Ω–¥–∞)

## Troubleshooting

### Backend –Ω–µ –¥–µ–ø–ª–æ—ó—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Render Dashboard ‚Üí **Settings** ‚Üí **Auto-Deploy**: –º–∞—î –±—É—Ç–∏ `Yes`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `render.yaml` –º—ñ—Å—Ç–∏—Ç—å `autoDeploy: true`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –∑–º—ñ–Ω–∏ –≤ `apps/api/` –∞–±–æ `render.yaml` –±—É–ª–∏ –∑–∞–ø—É—à–µ–Ω—ñ –¥–æ `main`

### Keep-Alive –Ω–µ –ø—Ä–∞—Ü—é—î

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ workflow —É–≤—ñ–º–∫–Ω–µ–Ω–æ: **Settings** ‚Üí **Actions** ‚Üí **General** ‚Üí **Workflow permissions**
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `VITE_API_URL` secret –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è)
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ workflow –Ω–∞ –ø–æ–º–∏–ª–∫–∏

### –°–µ—Ä–≤—ñ—Å –≤—Å–µ —â–µ –∑–∞—Å–∏–Ω–∞—î

1. Keep-alive –ø—Ä–∞—Ü—é—î –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω, –∞–ª–µ Render –º–æ–∂–µ –≤—Å–µ –æ–¥–Ω–æ –∑–∞—Å–∏–Ω–∞—Ç–∏ –ø—ñ—Å–ª—è 15 —Ö–≤–∏–ª–∏–Ω
2. –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è free tier - –ø–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç –ø—ñ—Å–ª—è spin down –∑–∞–π–º–µ 30-60 —Å–µ–∫—É–Ω–¥
3. –î–ª—è –ø–æ–≤–Ω–æ–≥–æ —É—Å—É–Ω–µ–Ω–Ω—è spin down –ø–æ—Ç—Ä—ñ–±–µ–Ω paid plan

### –ü–æ–≤—ñ–ª—å–Ω–∏–π cold start

1. –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è Render free tier (30-60 —Å–µ–∫—É–Ω–¥)
2. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:
   - –ú—ñ–Ω—ñ–º—ñ–∑—É–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ build –∫–µ—à
   - –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ startCommand (–º–µ–Ω—à–µ –∫–æ–º–∞–Ω–¥ = —à–≤–∏–¥—à–∏–π —Å—Ç–∞—Ä—Ç)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –î–ª—è production (paid plan)

1. **Render Paid Plan:**
   - –ù–µ–º–∞—î spin down
   - –®–≤–∏–¥—à–∏–π cold start
   - –ë—ñ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å—ñ–≤

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏:**
   - Railway (–∫—Ä–∞—â–∏–π free tier)
   - Fly.io (—à–≤–∏–¥–∫–∏–π cold start)
   - Vercel (–¥–ª—è frontend) + Railway (–¥–ª—è backend)

### –î–ª—è free tier

1. ‚úÖ Keep-alive workflow –¥–æ–ø–æ–º–∞–≥–∞—î, –∞–ª–µ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î
2. ‚úÖ Health check endpoint –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó —Ç–∞ seed
4. ‚ö†Ô∏è –ü–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç –ø—ñ—Å–ª—è spin down –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–≤—ñ–ª—å–Ω–∏–º

## –í–∏—Å–Ω–æ–≤–æ–∫

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π:**
- Frontend: GitHub Actions
- Backend: Render —á–µ—Ä–µ–∑ render.yaml

‚úÖ **Keep-Alive –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π:**
- GitHub Actions workflow –ø—ñ–Ω–≥ —Å–µ—Ä–≤—ñ—Å –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω

‚úÖ **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:**
- Health check endpoint
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –º—ñ–≥—Ä–∞—Ü—ñ—ó
- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

‚ö†Ô∏è **–û–±–º–µ–∂–µ–Ω–Ω—è free tier:**
- –ú–æ–∂–ª–∏–≤–∏–π spin down –ø—ñ—Å–ª—è 15 —Ö–≤–∏–ª–∏–Ω
- Cold start 30-60 —Å–µ–∫—É–Ω–¥ (–ø–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç –ø—ñ—Å–ª—è spin down)

